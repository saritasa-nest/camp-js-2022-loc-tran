<h1 class="title">Register</h1>

<form class="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <mat-form-field class="form__field" appearance="fill">
    <mat-label class="form__field--label">Email</mat-label>
    <input autoComplete="true"
      class="form__field--input"
      type="email"
      matInput
      placeholder="Ex. pat@example.com"
      formControlName="email"
    />
    <mat-error
      *ngFor="let errorMessage of (errorList$ | async)?.['email'] ?? []"
    >
      {{ errorMessage }}
    </mat-error>
    <mat-error *ngIf="registerForm.controls.email.hasError('required')">
      Email is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field class="form__field" appearance="fill">
    <mat-label class="form__field--label">Last name</mat-label>
    <input autoComplete="true"
      class="form__field--input"
      type="text"
      matInput
      placeholder="Cristiano"
      formControlName="lastName"
    />
    <mat-error
      *ngFor="let errorMessage of (errorList$ | async)?.['last_name'] ?? []"
    >
      {{ errorMessage }}
    </mat-error>
  </mat-form-field>

  <mat-form-field class="form__field" appearance="fill">
    <mat-label class="form__field--label">First name</mat-label>
    <input autoComplete="true"
      class="form__field--input"
      type="text"
      matInput
      placeholder="Ronaldo"
      formControlName="firstName"
    />
    <mat-error
      *ngFor="let errorMessage of (errorList$ | async)?.['first_name'] ?? []"
    >
      {{ errorMessage }}
    </mat-error>
  </mat-form-field>

  <mat-form-field class="form__field" appearance="fill">
    <mat-label class="form__field--label">Password</mat-label>
    <input autoComplete="true"
      class="form__field--input"
      type="password"
      matInput
      placeholder="Type your password."
      formControlName="password"
    />
    <mat-error
      *ngFor="let errorMessage of (errorList$ | async)?.['password'] ?? []"
    >
      {{ errorMessage }}
    </mat-error>
    <mat-error *ngIf="registerForm.controls.password.hasError('required')">
      Password is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field class="form__field" appearance="fill">
    <mat-label class="form__field--label">Confirm password</mat-label>
    <input autoComplete="true"
      class="form__field--input"
      type="password"
      matInput
      placeholder="Confirm your password."
      formControlName="confirmPassword"
    />
    <mat-error *ngIf="registerForm.controls.confirmPassword.hasError('notSame')">
      Confirm password must match
    </mat-error>
    <mat-error *ngIf="registerForm.controls.confirmPassword.hasError('required')">
      Confirm password is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <button class="form__submit" type="submit" mat-flat-button color="primary">
    Register
  </button>
</form>
