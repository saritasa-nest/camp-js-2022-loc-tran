"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[953],{5953:($,T,i)=>{i.r(T),i.d(T,{AuthModule:()=>G});var u=i(8692),n=i(9900),_=i(9638),s=i(8659),v=i(9665),N=i(8697),r=i(4537),f=i(3382);let Z=(()=>{class e{constructor(o){this.authService=o}canActivate(){return this.authService.isNotLoggedIn()}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(f.e))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{constructor(o){this.authService=o}canActivate(){return this.authService.isLoggedIn()}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(f.e))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();var I=i(2355),C=i(8248),A=i(4762),y=i(5887),d=i(3804),F=i(4121);let x=(()=>{class e{constructor(o){this.router=o}navigate(o){return this.router.navigate([o])}navigateToHome(){return this.router.navigate(["/"])}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(C.F0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function U(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Email is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function q(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function S(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=t.ngIf;r.xp6(1),r.hij(" ",o," ")}}let m=class{constructor(t,o,a){this.formBuilder=t,this.authService=o,this.navigateService=a,this.loginForm=this.formBuilder.group({email:["",n.kI.required],password:["",n.kI.required]}),this.loginError$=new F.X("")}onSubmit(){this.loginForm.markAllAsTouched(),!this.loginForm.invalid&&this.authService.login({email:this.loginForm.value.email??"",password:this.loginForm.value.password??""}).pipe((0,d.t)(this)).subscribe({next:()=>this.navigateService.navigateToHome(),error:t=>this.handleLoginError(t)})}handleLoginError(t){t instanceof y.o&&this.loginError$.next(t.detail)}};function b(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=t.$implicit;r.xp6(1),r.hij(" ",o," ")}}function E(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Email is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function J(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=t.$implicit;r.xp6(1),r.hij(" ",o," ")}}function M(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=t.$implicit;r.xp6(1),r.hij(" ",o," ")}}function O(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=t.$implicit;r.xp6(1),r.hij(" ",o," ")}}function R(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}function Y(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Confirm password must match "),r.qZA())}function P(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Confirm password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA()())}m.\u0275fac=function(t){return new(t||m)(r.Y36(n.qu),r.Y36(f.e),r.Y36(x))},m.\u0275cmp=r.Xpm({type:m,selectors:[["camp-login"]],decls:17,vars:7,consts:[[1,"title"],[1,"form",3,"formGroup","ngSubmit"],["appearance","fill",1,"form__field"],["type","email","matInput","","placeholder","Ex. pat@example.com","formControlName","email"],[4,"ngIf"],["type","password","matInput","","placeholder","Type your password.","formControlName","password"],["type","submit","mat-flat-button","","color","primary",1,"form__submit",3,"disabled"]],template:function(t,o){1&t&&(r.TgZ(0,"h1",0),r._uU(1,"Log in"),r.qZA(),r.TgZ(2,"form",1),r.NdJ("ngSubmit",function(){return o.onSubmit()}),r.TgZ(3,"mat-form-field",2)(4,"mat-label"),r._uU(5,"Email"),r.qZA(),r._UZ(6,"input",3),r.YNc(7,U,4,0,"mat-error",4),r.qZA(),r.TgZ(8,"mat-form-field",2)(9,"mat-label"),r._uU(10,"Password"),r.qZA(),r._UZ(11,"input",5),r.YNc(12,q,4,0,"mat-error",4),r.qZA(),r.YNc(13,S,2,1,"mat-error",4),r.ALo(14,"async"),r.TgZ(15,"button",6),r._uU(16," Log in "),r.qZA()()),2&t&&(r.xp6(2),r.Q6J("formGroup",o.loginForm),r.xp6(5),r.Q6J("ngIf",o.loginForm.controls.email.hasError("required")),r.xp6(5),r.Q6J("ngIf",o.loginForm.controls.password.hasError("required")),r.xp6(1),r.Q6J("ngIf",r.lcZ(14,5,o.loginError$)),r.xp6(2),r.Q6J("disabled",o.loginForm.invalid))},dependencies:[u.O5,s.TO,s.KE,s.hX,v.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,_.lW,u.Ov],styles:[".title[_ngcontent-%COMP%]{font-family:var(--header-font);text-align:center;margin:20px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;width:100%;margin-bottom:50px}.form__field[_ngcontent-%COMP%]{min-width:500px;margin:15px 0}.form__submit[_ngcontent-%COMP%]{min-width:500px;margin-top:15px}"],changeDetection:0}),m=(0,A.gn)([(0,d.c)()],m);const h=function(){return[]};let l=class{constructor(t,o,a){this.formBuilder=t,this.authService=o,this.navigateService=a,this.errorList$=new F.X({}),this.registerForm=this.formBuilder.group({email:["",n.kI.required],firstName:[""],lastName:[""],password:["",n.kI.required],confirmPassword:["",[n.kI.required]]},{validators:this.checkPasswords})}onSubmit(){this.registerForm.markAllAsTouched(),!this.registerForm.invalid&&this.authService.register({email:this.registerForm.value.email??"",firstName:this.registerForm.value.firstName??"",lastName:this.registerForm.value.lastName??"",password:this.registerForm.value.password??""}).pipe((0,d.t)(this)).subscribe({next:()=>this.navigateService.navigateToHome(),error:t=>this.handleRegisterError(t)})}checkPasswords(t){const o=t.get("password")?.value,a=t.get("confirmPassword")?.value;return o!==a?(t.get("confirmPassword")?.setErrors({notSame:!0}),{notSame:!0}):null}handleRegisterError(t){if(t instanceof y.o){this.errorList$.next(t.data);for(const o of Object.keys(t.data))this.registerForm.get(o)?.setErrors({invalidData:!0})}}};l.\u0275fac=function(t){return new(t||l)(r.Y36(n.qu),r.Y36(f.e),r.Y36(x))},l.\u0275cmp=r.Xpm({type:l,selectors:[["camp-register"]],decls:37,vars:22,consts:[[1,"title"],[1,"form",3,"formGroup","ngSubmit"],["appearance","fill",1,"form__field"],[1,"form__field--label"],["autoComplete","true","type","email","matInput","","placeholder","Ex. pat@example.com","formControlName","email",1,"form__field--input"],[4,"ngFor","ngForOf"],[4,"ngIf"],["autoComplete","true","type","text","matInput","","placeholder","Cristiano","formControlName","lastName",1,"form__field--input"],["autoComplete","true","type","text","matInput","","placeholder","Ronaldo","formControlName","firstName",1,"form__field--input"],["autoComplete","true","type","password","matInput","","placeholder","Type your password.","formControlName","password",1,"form__field--input"],["autoComplete","true","type","password","matInput","","placeholder","Confirm your password.","formControlName","confirmPassword",1,"form__field--input"],["type","submit","mat-flat-button","","color","primary",1,"form__submit",3,"disabled"]],template:function(t,o){if(1&t&&(r.TgZ(0,"h1",0),r._uU(1,"Register"),r.qZA(),r.TgZ(2,"form",1),r.NdJ("ngSubmit",function(){return o.onSubmit()}),r.TgZ(3,"mat-form-field",2)(4,"mat-label",3),r._uU(5,"Email"),r.qZA(),r._UZ(6,"input",4),r.YNc(7,b,2,1,"mat-error",5),r.ALo(8,"async"),r.YNc(9,E,4,0,"mat-error",6),r.qZA(),r.TgZ(10,"mat-form-field",2)(11,"mat-label",3),r._uU(12,"Last name"),r.qZA(),r._UZ(13,"input",7),r.YNc(14,J,2,1,"mat-error",5),r.ALo(15,"async"),r.qZA(),r.TgZ(16,"mat-form-field",2)(17,"mat-label",3),r._uU(18,"First name"),r.qZA(),r._UZ(19,"input",8),r.YNc(20,M,2,1,"mat-error",5),r.ALo(21,"async"),r.qZA(),r.TgZ(22,"mat-form-field",2)(23,"mat-label",3),r._uU(24,"Password"),r.qZA(),r._UZ(25,"input",9),r.YNc(26,O,2,1,"mat-error",5),r.ALo(27,"async"),r.YNc(28,R,4,0,"mat-error",6),r.qZA(),r.TgZ(29,"mat-form-field",2)(30,"mat-label",3),r._uU(31,"Confirm password"),r.qZA(),r._UZ(32,"input",10),r.YNc(33,Y,2,0,"mat-error",6),r.YNc(34,P,4,0,"mat-error",6),r.qZA(),r.TgZ(35,"button",11),r._uU(36," Register "),r.qZA()()),2&t){let a,g,c,p;r.xp6(2),r.Q6J("formGroup",o.registerForm),r.xp6(5),r.Q6J("ngForOf",null!==(a=null==(a=r.lcZ(8,10,o.errorList$))?null:a.email)&&void 0!==a?a:r.DdM(18,h)),r.xp6(2),r.Q6J("ngIf",o.registerForm.controls.email.hasError("required")),r.xp6(5),r.Q6J("ngForOf",null!==(g=null==(g=r.lcZ(15,12,o.errorList$))?null:g.last_name)&&void 0!==g?g:r.DdM(19,h)),r.xp6(6),r.Q6J("ngForOf",null!==(c=null==(c=r.lcZ(21,14,o.errorList$))?null:c.first_name)&&void 0!==c?c:r.DdM(20,h)),r.xp6(6),r.Q6J("ngForOf",null!==(p=null==(p=r.lcZ(27,16,o.errorList$))?null:p.password)&&void 0!==p?p:r.DdM(21,h)),r.xp6(2),r.Q6J("ngIf",o.registerForm.controls.password.hasError("required")),r.xp6(5),r.Q6J("ngIf",o.registerForm.controls.confirmPassword.hasError("notSame")),r.xp6(1),r.Q6J("ngIf",o.registerForm.controls.confirmPassword.hasError("required")),r.xp6(1),r.Q6J("disabled",o.registerForm.invalid)}},dependencies:[u.sg,u.O5,s.TO,s.KE,s.hX,v.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,_.lW,u.Ov],styles:[".title[_ngcontent-%COMP%]{font-family:var(--header-font);text-align:center;margin:20px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;width:100%;margin-bottom:50px}.form__field[_ngcontent-%COMP%]{min-width:500px;margin:15px 0}.form__submit[_ngcontent-%COMP%]{min-width:500px;margin-top:15px}"],changeDetection:0}),l=(0,A.gn)([(0,d.c)()],l);const Q=[{path:"login",canActivate:[Z],component:m},{path:"register",canActivate:[Z],component:l}];let j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[C.Bz.forChild(Q),C.Bz]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[w,Z],imports:[u.ez,N.Cq,v.c,s.lN,n.UX,n.u5,_.ot,I.m,j]}),e})()}}]);