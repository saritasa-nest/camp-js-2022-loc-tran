"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[944],{7944:(Q,A,i)=>{i.r(A),i.d(A,{AuthModule:()=>S});var p=i(8692),n=i(9900),T=i(9638),a=i(8659),x=i(9665),F=i(8697),u=i(1915),b=i(2355),h=i(6533),C=i(4762),y=i(5887),_=i(3804),v=i(4121),t=i(4537),w=i(3382);function N(o,r){if(1&o&&(t.TgZ(0,"span",12),t._uU(1),t.qZA()),2&o){const e=r.text;t.xp6(1),t.Oqu(e)}}function M(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function O(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function U(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function J(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}const Z=function(){return[]};let s=class{constructor(r,e,l){this.formBuilder=r,this.authService=e,this.router=l,this.errorList$=new v.X({}),this.registerForm=this.formBuilder.nonNullable.group({email:["",n.kI.required],firstName:[""],lastName:[""],password:["",n.kI.required],confirmPassword:["",[n.kI.required]]},{validators:this.checkPasswords})}onSubmit(){this.registerForm.markAllAsTouched(),!this.registerForm.invalid&&this.authService.register({email:this.registerForm.getRawValue().email,firstName:this.registerForm.getRawValue().firstName,lastName:this.registerForm.getRawValue().lastName,password:this.registerForm.getRawValue().password}).pipe((0,_.t)(this)).subscribe({next:()=>this.router.navigate(["/"]),error:r=>this.handleRegisterError(r)})}checkPasswords(r){const e=r.get("password")?.value,l=r.get("confirmPassword")?.value;return e!==l?(r.get("confirmPassword")?.setErrors({notSame:!0}),{notSame:!0}):null}handleRegisterError(r){if(r instanceof y.X){this.errorList$.next(r.data);for(const e of Object.keys(r.data))this.registerForm.get(e)?.setErrors({invalidData:!0})}}};function L(o,r){if(1&o&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&o){const e=r.text;t.xp6(1),t.Oqu(e)}}function R(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=r.ngIf;t.xp6(1),t.hij(" ",e," ")}}s.\u0275fac=function(r){return new(r||s)(t.Y36(n.qu),t.Y36(w.e),t.Y36(h.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["camp-register"]],decls:35,vars:23,consts:[[1,"title"],["errorTailor","",1,"form",3,"formGroup","ngSubmit"],["tpl",""],["appearance","fill",1,"form__field"],[1,"form__label"],["autocomplete","true","type","email","matInput","","placeholder","Ex. pat@example.com","formControlName","email",1,"form__input",3,"controlErrorsTpl"],[4,"ngFor","ngForOf"],["autoComplete","true","type","text","matInput","","placeholder","Cristiano","formControlName","lastName",1,"form__input",3,"controlErrorsTpl"],["autoComplete","true","type","text","matInput","","placeholder","Ronaldo","formControlName","firstName",1,"form__input",3,"controlErrorsTpl"],["autoComplete","true","type","password","matInput","","placeholder","Type your password.","formControlName","password",1,"form__input",3,"controlErrorsTpl"],["autoComplete","true","type","password","matInput","","placeholder","Confirm your password.","formControlName","confirmPassword",1,"form__input",3,"controlErrorsTpl"],["type","submit","mat-flat-button","","color","primary",1,"form__submit",3,"disabled"],[1,"control-error"]],template:function(r,e){if(1&r&&(t.TgZ(0,"h1",0),t._uU(1,"Register"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.YNc(3,N,2,1,"ng-template",null,2,t.W1O),t.TgZ(5,"mat-form-field",3)(6,"mat-label",4),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",5),t.YNc(9,M,2,1,"mat-error",6),t.ALo(10,"async"),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label",4),t._uU(13,"Last name"),t.qZA(),t._UZ(14,"input",7),t.YNc(15,O,2,1,"mat-error",6),t.ALo(16,"async"),t.qZA(),t.TgZ(17,"mat-form-field",3)(18,"mat-label",4),t._uU(19,"First name"),t.qZA(),t._UZ(20,"input",8),t.YNc(21,U,2,1,"mat-error",6),t.ALo(22,"async"),t.qZA(),t.TgZ(23,"mat-form-field",3)(24,"mat-label",4),t._uU(25,"Password"),t.qZA(),t._UZ(26,"input",9),t.YNc(27,J,2,1,"mat-error",6),t.ALo(28,"async"),t.qZA(),t.TgZ(29,"mat-form-field",3)(30,"mat-label",4),t._uU(31,"Confirm password"),t.qZA(),t._UZ(32,"input",10),t.qZA(),t.TgZ(33,"button",11),t._uU(34," Register "),t.qZA()()),2&r){const l=t.MAs(4);let c,g,f,d;t.xp6(2),t.Q6J("formGroup",e.registerForm),t.xp6(6),t.Q6J("controlErrorsTpl",l),t.xp6(1),t.Q6J("ngForOf",null!==(c=null==(c=t.lcZ(10,11,e.errorList$))?null:c.email)&&void 0!==c?c:t.DdM(19,Z)),t.xp6(5),t.Q6J("controlErrorsTpl",l),t.xp6(1),t.Q6J("ngForOf",null!==(g=null==(g=t.lcZ(16,13,e.errorList$))?null:g.last_name)&&void 0!==g?g:t.DdM(20,Z)),t.xp6(5),t.Q6J("controlErrorsTpl",l),t.xp6(1),t.Q6J("ngForOf",null!==(f=null==(f=t.lcZ(22,15,e.errorList$))?null:f.first_name)&&void 0!==f?f:t.DdM(21,Z)),t.xp6(5),t.Q6J("controlErrorsTpl",l),t.xp6(1),t.Q6J("ngForOf",null!==(d=null==(d=t.lcZ(28,17,e.errorList$))?null:d.password)&&void 0!==d?d:t.DdM(22,Z)),t.xp6(5),t.Q6J("controlErrorsTpl",l),t.xp6(1),t.Q6J("disabled",e.registerForm.invalid)}},dependencies:[p.sg,a.TO,a.KE,a.hX,x.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,T.lW,u.kH,u.m6,p.Ov],styles:[".title[_ngcontent-%COMP%]{font-family:var(--header-font);text-align:center;margin:20px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;width:100%;margin-bottom:50px}.form__field[_ngcontent-%COMP%]{min-width:500px;margin:15px 0}.form__submit[_ngcontent-%COMP%]{min-width:500px;margin-top:15px}.control-error[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:12px;color:var(--font-color-error)}"],changeDetection:0}),s=(0,C.gn)([(0,_.c)()],s);let m=class{constructor(r,e,l){this.formBuilder=r,this.authService=e,this.router=l,this.loginForm=this.formBuilder.nonNullable.group({email:["",n.kI.required],password:["",n.kI.required]}),this.loginError$=new v.X("")}onSubmit(){this.loginForm.markAllAsTouched(),!this.loginForm.invalid&&this.authService.login({email:this.loginForm.getRawValue().email,password:this.loginForm.getRawValue().password}).pipe((0,_.t)(this)).subscribe({next:()=>this.router.navigate(["/"]),error:r=>this.handleLoginError(r)})}handleLoginError(r){r instanceof y.X&&this.loginError$.next(r.detail)}};m.\u0275fac=function(r){return new(r||m)(t.Y36(n.qu),t.Y36(w.e),t.Y36(h.F0))},m.\u0275cmp=t.Xpm({type:m,selectors:[["camp-login"]],decls:17,vars:7,consts:[[1,"title"],["errorTailor","",1,"form",3,"formGroup","ngSubmit"],["tpl",""],["appearance","fill",1,"form__field"],["type","email","matInput","","placeholder","Ex. pat@example.com","formControlName","email",3,"controlErrorsTpl"],["type","password","matInput","","placeholder","Type your password.","formControlName","password",3,"controlErrorsTpl"],[4,"ngIf"],["type","submit","mat-flat-button","","color","primary",1,"form__submit",3,"disabled"],[1,"control-error"]],template:function(r,e){if(1&r&&(t.TgZ(0,"h1",0),t._uU(1,"Log in"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.YNc(3,L,2,1,"ng-template",null,2,t.W1O),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t.YNc(13,R,2,1,"mat-error",6),t.ALo(14,"async"),t.TgZ(15,"button",7),t._uU(16," Log in "),t.qZA()()),2&r){const l=t.MAs(4);t.xp6(2),t.Q6J("formGroup",e.loginForm),t.xp6(6),t.Q6J("controlErrorsTpl",l),t.xp6(4),t.Q6J("controlErrorsTpl",l),t.xp6(1),t.Q6J("ngIf",t.lcZ(14,5,e.loginError$)),t.xp6(2),t.Q6J("disabled",e.loginForm.invalid)}},dependencies:[p.O5,a.TO,a.KE,a.hX,x.Nt,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,T.lW,u.kH,u.m6,p.Ov],styles:[".title[_ngcontent-%COMP%]{font-family:var(--header-font);text-align:center;margin:20px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;width:100%;margin-bottom:50px}.form__field[_ngcontent-%COMP%]{min-width:500px;margin:15px 0}.form__submit[_ngcontent-%COMP%]{min-width:500px;margin-top:15px}.control-error[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:12px;color:var(--font-color-error)}"],changeDetection:0}),m=(0,C.gn)([(0,_.c)()],m);const q=[{path:"login",component:m},{path:"register",component:s}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(q),h.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,F.Cq,x.c,a.lN,n.UX,n.u5,T.ot,b.m,P,u.OX]}),o})()}}]);